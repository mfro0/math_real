math_real implementation with native C functions
